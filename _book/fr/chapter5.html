
<!DOCTYPE HTML>
<html lang="fr" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>5. Hello Android ! · Le développeur Android 2018</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="Gaëtan HERFRAY">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    
    <link rel="prev" href="chapter4.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Tapez pour rechercher" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="chapter1.html">
            
                <a href="chapter1.html">
            
                    
                    1. Premier programme Kotlin
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="chapter2.html">
            
                <a href="chapter2.html">
            
                    
                    2. Variables, Types, Constantes et Opérateurs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="chapter3.html">
            
                <a href="chapter3.html">
            
                    
                    3. Sources multiples, paquets et imports
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="chapter4.html">
            
                <a href="chapter4.html">
            
                    
                    4. Programmation orientée objet
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.6" data-path="chapter5.html">
            
                <a href="chapter5.html">
            
                    
                    5. Hello Android !
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Publié avec GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >5. Hello Android !</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="chapitre-5hello-android-">Chapitre 5<br>Hello Android !</h1>
<h2 id="android-studio">Android Studio</h2>
<h3 id="environnement-de-d&#xE9;veloppement-int&#xE9;gr&#xE9;">Environnement de d&#xE9;veloppement int&#xE9;gr&#xE9;</h3>
<p>Avant tout, vous devrez installer Android Studio, qui est un environnement de d&#xE9;veloppement int&#xE9;gr&#xE9;. Un environnement de d&#xE9;veloppement int&#xE9;gr&#xE9;, c&#x2019;est un outil qui cumule tout ou presque de vos besoins. Il couvre aussi bien la coloration de votre code pour le rendre plus clair, que la compilation, l&#x2019;affichage de la documentation KDoc, etc.</p>
<p>Si pour certains langages, il existe plusieurs &#xE9;diteurs avec chacun leurs avantages et leurs inconv&#xE9;nients, pour Android, c&#x2019;est Android Studio qui est en situation de (quasi) monopole. Le choix est donc vite fait.</p>
<h3 id="installation-dandroid-studio">Installation d&#x2019;Android Studio</h3>
<p>Pour installer Android Studio, t&#xE9;l&#xE9;chargez-le &#xE0; l&#x2019;adresse suivante : <a href="https://developer.android.com/studio/index.html" target="_blank">https://developer.android.com/studio/index.html</a>.</p>
<p>Je ne parlerai pas ici de l&#x2019;installation &#xE0; proprement parler, puisque celle-ci est parfaitement d&#xE9;crite sur la page sur laquelle vous &#xEA;tes redirig&#xE9; lors du t&#xE9;l&#xE9;chargement de ce logiciel.</p>
<h3 id="d&#xE9;marrage-dandroid-studio">D&#xE9;marrage d&#x2019;Android Studio</h3>
<p>Lorsque vous d&#xE9;marrez Android Studio, vous arrivez sur l&#x2019;&#xE9;cran suivant :</p>
<p><img class="ebook_only" src="../images/android_studio_home.png" style="width:389px;height:244px;margin:0 auto;display:block;"><img class="web_light_only" src="../images/android_studio_home.png" style="margin:0 auto;display:none;"><img class="web_dark_only" src="../images/android_studio_home_night.png" style="margin:0 auto;display:none;"></p>

<p>Comme notre but est de d&#xE9;velopper une application, nous allons cliquer sur <em>Start a new Android Studio project</em>.</p>
<p>Vous arrivez alors sur l&#x2019;&#xE9;cran suivant :</p>
<p><img class="ebook_only" src="../images/android_studio_new_project_name.png" style="width:451px;height:341px;margin:0 auto;display:block;"><img class="web_light_only" src="../images/android_studio_new_project_name.png" style="margin:0 auto;display:none;"><img class="web_dark_only" src="../images/android_studio_new_project_name_night.png" style="margin:0 auto;display:none;"></p>

<p>Nous devons renseigner les diff&#xE9;rentes informations de notre application, &#xE0; savoir :</p>
<ul>
<li><strong>Application name</strong> : le nom que l&#x2019;on souhaite donner &#xE0; notre application, dans notre cas, <strong>Hello Android</strong> ;</li>
<li><strong>Company domain</strong> : cela sert surtout &#xE0; cr&#xE9;er le paquet de base de votre application. En choisissant <strong>gahfy.net</strong>, votre application sera contenue dans le paquet <strong>net.gahfy.helloandroid</strong> ;</li>
<li><strong>Project location</strong> : il s&#x2019;agit du r&#xE9;pertoire dans lequel vous souhaitez sauvegarder votre application.</li>
</ul>
<p>&#xC9;tant donn&#xE9; que tous nos d&#xE9;veloppements se feront en Kotlin, pensez &#xE0; bien v&#xE9;rifier que la case <strong>Include Kotlin support</strong> est coch&#xE9;e. Vous pouvez ensuite cliquer sur le bouton <code>Next</code>. Vous arrivez alors sur cet &#xE9;cran :</p>
<p><img class="ebook_only" src="../images/android_studio_new_project_versions.png" style="width:451px;height:341px;margin:0 auto;display:block;"><img class="web_light_only" src="../images/android_studio_new_project_versions.png" style="margin:0 auto;display:none;"><img class="web_dark_only" src="../images/android_studio_new_project_versions_night.png" style="margin:0 auto;display:none;"></p>

<p>Il s&#x2019;agit d&#x2019;un &#xE9;cran permettant de choisir les p&#xE9;riph&#xE9;riques sur lesquels votre application doit fonctionner, ainsi que les versions minimales des syst&#xE8;mes Android requises pour faire fonctionner votre application. Ne touchez rien sur cet &#xE9;cran, et cliquez sur <code>Next</code>.</p>
<p><img class="ebook_only" src="../images/android_studio_new_project_activity.png" style="width:451px;height:341px;margin:0 auto;display:block;"><img class="web_light_only" src="../images/android_studio_new_project_activity.png" style="margin:0 auto;display:none;"><img class="web_dark_only" src="../images/android_studio_new_project_activity_night.png" style="margin:0 auto;display:none;"></p>

<p>Sur cet &#xE9;cran, on vous demande de choisir quel type d&#x2019;<code>Activity</code> vous souhaitez ajouter. Les <code>Activity</code> sont la base de toute application Android. Pour r&#xE9;sumer, il s&#x2019;agit d&#x2019;objets qui vont se charger de cr&#xE9;er une fen&#xEA;tre et d&#x2019;y ajouter du contenu gr&#xE2;ce &#xE0; des m&#xE9;thodes que l&#x2019;on utilisera dans la suite de ce chapitre, et &#xE9;galement de g&#xE9;rer les interactions avec l&#x2019;utilisateur. Laissez <strong>Empty Activity</strong> s&#xE9;lectionn&#xE9;, et cliquez sur <code>Next</code>.</p>
<p><img class="ebook_only" src="../images/android_studio_new_project_activity_name.png" style="width:451px;height:341px;margin:0 auto;display:block;"><img class="web_light_only" src="../images/android_studio_new_project_activity_name.png" style="margin:0 auto;display:none;"><img class="web_dark_only" src="../images/android_studio_new_project_activity_name_night.png" style="margin:0 auto;display:none;"></p>

<p>Sur cet &#xE9;cran, nous allons choisir le nom de notre <code>Activity</code>. D&#xE9;cochez simplement <strong>Generate Layout File</strong> et <strong>Backward Compatibility</strong>, et cliquez sur <code>Finish</code> en laissant toutes les valeurs telles qu&#x2019;elles sont. Une boite de dialogue de chargement s&#x2019;affiche :</p>
<p><img class="ebook_only" src="../images/android_studio_new_project_gradle_build.png" style="width:389px;height:244px;margin:0 auto;display:block;"><img class="web_light_only" src="../images/android_studio_new_project_gradle_build.png" style="margin:0 auto;display:none;"><img class="web_dark_only" src="../images/android_studio_new_project_gradle_build_night.png" style="margin:0 auto;display:none;"></p>

<p>Vous &#xEA;tes ensuite dirig&#xE9; sur l&#x2019;&#xE9;cran principal d&#x2019;Android Studio :</p>
<p><img class="ebook_only" src="../images/android_studio_main_screen.png" style="width:440px;height:285px;margin:0 auto;display:block;"><img class="web_light_only" src="../images/android_studio_main_screen.png" style="margin:0 auto;display:none;"><img class="web_dark_only" src="../images/android_studio_main_screen_night.png" style="margin:0 auto;display:none;"></p>

<p>L&#x2019;&#xE9;cran se d&#xE9;compose en plusieurs parties.</p>
<p>Dans la partie haute, vous avez la barre de menu ainsi que diff&#xE9;rentes barres d&#x2019;outils.</p>
<p>Dans la partie de gauche, vous avez l&#x2019;affichage de l&#x2019;arborescence de votre projet.</p>
<p><em>Si &#xE7;a n&#x2019;est pas le cas, cliquez sur l&#x2019;onglet vertical <strong>1: Project</strong> tout &#xE0; gauche de la fen&#xEA;tre. Si cet onglet n&#x2019;est pas pr&#xE9;sent, cliquez sur l&#x2019;ic&#xF4;ne <img class="ebook_only" src="../images/android_studio_icon_bottom_left.png"><img class="web_inline_light_only" style="display:none" src="../images/android_studio_icon_bottom_left.png"><img class="web_inline_dark_only" style="display:none" src="../images/android_studio_icon_bottom_left_night.png"> tout en bas &#xE0; gauche de la fen&#xEA;tre pour afficher cet onglet.</em></p>
<p>Dans cette partie, vous pouvez ouvrir la partie <strong>app</strong>, puis la partie <strong>java</strong> pour voir le contenu de votre application (il s&#x2019;agit du nom de paquet qui n&#x2019;est pas surlign&#xE9; en vert) :</p>
<p><img class="ebook_only" src="../images/android_studio_project_tree.png" style="margin:0 auto;display:block;"><img class="web_light_only" src="../images/android_studio_project_tree.png" style="margin:0 auto;display:none;"><img class="web_dark_only" src="../images/android_studio_project_tree_night.png" style="margin:0 auto;display:none;"></p>

<p>L&#x2019;organisation par paquet plut&#xF4;t que par dossier peut sembler d&#xE9;routante, mais Android Studio suit la convention dont nous avons parl&#xE9; pour les paquets, o&#xF9; chaque paquet correspond &#xE0; un r&#xE9;pertoire.</p>
<p>Dans la partie de droite, la partie principale, nous retrouvons l&#x2019;&#xE9;diteur d&#x2019;Android Studio, dans lequel &#xE9;crire nos codes sources.</p>
<p>On peut remarquer les points de suspension qui suivent le mot cl&#xE9; <code>import</code> ; en fait, Android Studio cache les imports qui, avouons-le, ne sont pas d&#x2019;une importance cruciale dans un code source. Vous pouvez cliquer sur le <code>+</code> &#xE0; c&#xF4;t&#xE9; de <code>import</code> pour voir la liste des imports. Une fois la liste des imports d&#xE9;velopp&#xE9;e, vous pouvez cliquer sur le <code>-</code> pour la refermer.</p>
<p>Nous verrons dans la suite de ce chapitre que les imports sont automatiquement g&#xE9;r&#xE9;s par Android Studio. Du coup, dans la suite de ce livre, les codes sources ne feront ni mention du paquet, ni mention des imports.</p>
<p>&#xC0; propos du code source justement&#x2026;</p>
<h2 id="d&#xE9;veloppement-de-lapplication">D&#xE9;veloppement de l&#x2019;application</h2>
<h3 id="analyse-du-code-existant">Analyse du code existant</h3>
<p>Pour le moment, notre application ne se compose que d&#x2019;un fichier Kotlin, dont le code est le suivant :</p>
<div class="fileTitle">MainActivity.kt</div>

<pre><code class="lang-kotlin"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainActivity</span> : <span class="hljs-type">Activity</span></span>() {

   <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle?</span>)</span> {</span>
       super.onCreate(savedInstanceState)
   }
}
</code></pre>
<p>Sur la premi&#xE8;re ligne, on voit le nom de la classe que l&#x2019;on a choisie, et on voit que cette classe &#xE9;tend <code>Activity</code>.</p>
<h4 id="biblioth&#xE8;que-android"><em>Biblioth&#xE8;que Android</em></h4>
<p><em>En fait, le d&#xE9;veloppement d&#x2019;applications sous Android se fait avec la biblioth&#xE8;que Android. Cette biblioth&#xE8;que, c&#x2019;est grosso modo une liste de classes et d&#x2019;objets qu&#x2019;Android met &#xE0; disposition, et dont on peut se servir.</em></p>
<p><em>Nous avons d&#xE9;j&#xE0; vu ce qu&#x2019;&#xE9;tait une <code>Activity</code> plus haut, &#xE0; savoir une classe permettant de g&#xE9;n&#xE9;rer une fen&#xEA;tre dans laquelle ajouter du contenu. <code>Activity</code> est justement une classe faisant partie de la biblioth&#xE8;que Android.</em></p>
<p>Ensuite, nous voyons que nous surchargeons la m&#xE9;thode <code>onCreate()</code> h&#xE9;rit&#xE9;e de la classe <code>Activity</code>. Cette m&#xE9;thode est celle qui est appel&#xE9;e au d&#xE9;marrage de l&#x2019;<code>Activity</code>.</p>
<p>Ensuite, nous voyons un appel &#xE0; <code>super.onCreate()</code>. Ce mot cl&#xE9; <code>super</code> sert &#xE0; indiquer que l&#x2019;on appelle la m&#xE9;thode <code>onCreate()</code> de la classe parente <code>Activity</code>. C&#x2019;est une mani&#xE8;re tr&#xE8;s pratique de garder le comportement de la classe parente, tout en ajoutant du code suppl&#xE9;mentaire.</p>
<h3 id="ajout-de-code">Ajout de code</h3>
<p>Maintenant que nous avons compris le code existant, nous pouvons ajouter le n&#xF4;tre. Ce que nous allons faire, c&#x2019;est ajouter un texte <strong>Hello Android!</strong> sur l&#x2019;&#xE9;cran.</p>
<p>Pour ce faire, nous allons utiliser la classe <code>TextView</code> qui fait partie de la biblioth&#xE8;que Android.</p>
<p><img class="ebook_only" src="../images/android_studio_missing_import.png" style="width:403px;height:217px;margin:0 auto;display:block;"><img class="web_light_only" src="../images/android_studio_missing_import.png" style="margin:0 auto;display:none;"><img class="web_dark_only" src="../images/android_studio_missing_import_night.png" style="margin:0 auto;display:none;"></p>

<p>On peut voir qu&#x2019;en ajoutant cette ligne &#xE0; notre code, <code>TextView</code> est soulign&#xE9; en rouge. En fait, il s&#x2019;agit d&#x2019;une erreur dans notre code, et Android Studio nous avertit que notre code ne compilera pas &#xE0; cause de cette erreur.</p>
<p>En fait, l&#x2019;erreur en question, c&#x2019;est qu&#x2019;il manque l&#x2019;import de la classe <code>TextView</code>. Pour r&#xE9;gler ce probl&#xE8;me, rien de plus simple, cliquez sur <code>TextView</code>, et ensuite appuyez simultan&#xE9;ment sur <code>Alt + Entr&#xE9;e</code>. Si une liste d&#xE9;roulante appara&#xEE;t, choisissez l&#x2019;option <code>Import</code>.</p>
<p>Android Studio saura corriger tout seul le probl&#xE8;me et ajouter l&#x2019;import manquant.</p>
<p>Maintenant que nous avons une <code>TextView</code>, il ne nous reste plus qu&#x2019;&#xE0; d&#xE9;finir son contenu, et &#xE0; indiquer &#xE0; notre <code>Activity</code> que la fen&#xEA;tre courante doit afficher cette <code>TextView</code>. Ceci se fait en deux lignes de code.</p>
<div class="fileTitle">MainActivity.kt</div>

<pre><code class="lang-kotlin"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainActivity</span> : <span class="hljs-type">Activity</span></span>() {

   <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle?</span>)</span> {</span>
       super.onCreate(savedInstanceState)

       <span class="hljs-variable"><span class="hljs-keyword">val</span> helloLabel</span> = TextView(this)
       helloLabel.setText(<span class="hljs-string">&quot;Hello Android&quot;</span>)

       setContentView(helloLabel)
   }
}
</code></pre>
<p>Nous avons appel&#xE9; la m&#xE9;thode <code>setText()</code> de <code>TextView</code>, qui permet de d&#xE9;finir le texte de notre <code>TextView</code>.</p>
<p class="pageBreakAfter">Et ensuite, nous avons appel&#xE9; la m&#xE9;thode `setContentView()`, d&#xE9;finie dans `Activity`, qui sert &#xE0; d&#xE9;finir le contenu affich&#xE9; par l&#x2019;`Activity`.</p>

<h2 id="ex&#xE9;cution-dune-application-android">Ex&#xE9;cution d&#x2019;une application Android</h2>
<p>Maintenant que nous avons termin&#xE9; le d&#xE9;veloppement de notre application tr&#xE8;s sommaire, nous allons l&#x2019;ex&#xE9;cuter.</p>
<p>Pour ce faire, dans la barre d&#x2019;outils, cliquez sur l&#x2019;ic&#xF4;ne <img src="../images/android_studio_icon_run.png"> situ&#xE9;e juste &#xE0; c&#xF4;t&#xE9; de <code>app</code> en haut &#xE0; droite :</p>
<p><img class="ebook_only" src="../images/android_studio_run.png" style="width:114px;height:27px;margin:0 auto;display:block;"><img class="web_light_only" src="../images/android_studio_run.png" style="margin:0 auto;display:none;"><img class="web_dark_only" src="../images/android_studio_run_night.png" style="margin:0 auto;display:none;"></p>

<p>Android Studio vous ouvre alors la boite de dialogue suivante :</p>
<p><img class="ebook_only" src="../images/android_studio_run_no_device.png" style="width:313px;height:248px;margin:0 auto;display:block;"><img class="web_light_only" src="../images/android_studio_run_no_device.png" style="margin:0 auto;display:none;"><img class="web_dark_only" src="../images/android_studio_run_no_device_night.png" style="margin:0 auto;display:none;"></p>

<p>Cette boite de dialogue permet de s&#xE9;lectionner le terminal Android sur lequel vous souhaitez ex&#xE9;cuter votre application. On voit ici que la boite est vide.</p>
<h3 id="ex&#xE9;cution-sur-son-t&#xE9;l&#xE9;phone">Ex&#xE9;cution sur son t&#xE9;l&#xE9;phone</h3>
<p>Un moyen pour tester une application est de la tester sur son t&#xE9;l&#xE9;phone. &#xC0; cette fin, vous devez activer le mode d&#xE9;veloppeur de votre t&#xE9;l&#xE9;phone, et activer le debogage USB.</p>
<p>Pour ce faire :</p>
<ul>
<li>Allez dans l&#x2019;application Param&#xE8;tres de votre t&#xE9;l&#xE9;phone ;</li>
<li>Cliquez sur la rubrique &#xC0; propos tout en bas ;</li>
<li>Allez dans la rubrique Informations sur le Logiciel ;</li>
<li>Cliquez sept fois de suite sur la partie Num&#xE9;ro de version, jusqu&#x2019;&#xE0; ce qu&#x2019;un message apparaisse vous indiquant que le mode d&#xE9;veloppeur est activ&#xE9; ;</li>
<li>Retournez ensuite dans le menu des Param&#xE8;tres ;</li>
<li>Cliquez dans la nouvelle section Options de d&#xE9;veloppements ;</li>
<li>V&#xE9;rifiez que le d&#xE9;bogage USB est bien activ&#xE9;, ou activez-le si ce n&#x2019;est pas le cas.</li>
</ul>
<p>Vous pouvez &#xE0; nouveau relier votre t&#xE9;l&#xE9;phone en USB &#xE0; votre ordinateur, et cliquer sur Autoriser dans la boite de dialogue qui s&#x2019;ouvre sur votre t&#xE9;l&#xE9;phone.</p>
<p>Apr&#xE8;s cela, vous devriez voir votre t&#xE9;l&#xE9;phone disponible dans la boite de s&#xE9;lection du terminal Android sur Android Studio :</p>
<p><img class="ebook_only" src="../images/android_studio_run_physical_device.png" style="width:313px;height:248px;margin:0 auto;display:block;"><img class="web_light_only" src="../images/android_studio_run_physical_device.png" style="margin:0 auto;display:none;"><img class="web_dark_only" src="../images/android_studio_run_physical_device_night.png" style="margin:0 auto;display:none;"></p>

<h3 id="ex&#xE9;cution-sur-un-&#xE9;mulateur">Ex&#xE9;cution sur un &#xE9;mulateur</h3>
<p>Si vous n&#x2019;avez pas de t&#xE9;l&#xE9;phone, il est possible de tester votre application sur un &#xE9;mulateur. Pour faire cela, cliquez sur le bouton <code>Create New Virtual Device</code> en bas de la boite de s&#xE9;lection du terminal Android. Vous arrivez alors sur un &#xE9;cran vous proposant le type de terminal sur lequel vous souhaitez ex&#xE9;cuter votre application :</p>
<p><img class="ebook_only" src="../images/android_studio_avd_choose_model.png" style="width:501px;height:341px;margin:0 auto;display:block;"><img class="web_light_only" src="../images/android_studio_avd_choose_model.png" style="margin:0 auto;display:none;"><img class="web_dark_only" src="../images/android_studio_avd_choose_model_night.png" style="margin:0 auto;display:none;"></p>

<p>Dans la partie de gauche, vous pouvez s&#xE9;lectionner le type de terminal sur lequel vous souhaitez ex&#xE9;cuter votre application : TV, Montre, Smartphone ou Tablette.</p>
<p>Dans la partie centrale, vous pouvez choisir un mod&#xE8;le pr&#xE9;d&#xE9;fini, avec des caract&#xE9;ristiques mat&#xE9;rielles qui leur sont propres en termes de r&#xE9;solution, de taille, et m&#xEA;me de forme d&#x2019;&#xE9;cran (dans le cas des montres).</p>
<p>Dans la partie de droite, vous pouvez voir un r&#xE9;capitulatif des caract&#xE9;ristiques du mod&#xE8;le choisi.</p>
<p>Pour la suite de ce chapitre, nous admettrons que vous avez choisi le smartphone <strong>Pixel</strong>. Une fois ceci fait, cliquez sur le bouton <code>Next</code>.
Vous arrivez alors sur l&#x2019;&#xE9;cran suivant :</p>
<p><img class="ebook_only" src="../images/android_studio_avd_choose_api_version.png" style="width:501px;height:341px;margin:0 auto;display:block;"><img class="web_light_only" src="../images/android_studio_avd_choose_api_version.png" style="margin:0 auto;display:none;"><img class="web_dark_only" src="../images/android_studio_avd_choose_api_version_night.png" style="margin:0 auto;display:none;"></p>

<p>Il s&#x2019;agit d&#x2019;un &#xE9;cran sur lequel vous pouvez choisir la version d&#x2019;Android que vous souhaitez voir install&#xE9;e sur le terminal. Cela peut avoir son importance. Imaginons par exemple que vous d&#xE9;veloppiez une application en utilisant le groupement des notifications par type, disponible seulement depuis Android Oreo. Vous pourriez avoir envie de contr&#xF4;ler que cette fonctionnalit&#xE9; soit bien pr&#xE9;sente sur un t&#xE9;l&#xE9;phone ex&#xE9;cutant cette version ou une version ult&#xE9;rieure, mais v&#xE9;rifiez aussi que votre application reste compatible avec les versions ant&#xE9;rieures.</p>
<p>Pour la suite de ce chapitre, nous admettrons que vous avez choisi <code>API 27</code> (Cliquez si besoin sur <code>Download</code> pour t&#xE9;l&#xE9;charger cette version d&#x2019;Android pour un &#xE9;mulateur). Une fois que c&#x2019;est fait, cliquez sur le bouton <code>Next</code>.</p>
<p>Vous arrivez alors sur l&#x2019;&#xE9;cran suivant :</p>
<p><img class="ebook_only" src="../images/android_studio_avd_choose_device_name.png" style="width:501px;height:341px;margin:0 auto;display:block;"><img class="web_light_only" src="../images/android_studio_avd_choose_device_name.png" style="margin:0 auto;display:none;"><img class="web_dark_only" src="../images/android_studio_avd_choose_device_name_night.png" style="margin:0 auto;display:none;"></p>

<p>Il s&#x2019;agit de r&#xE9;gler les derniers d&#xE9;tails avanc&#xE9;s de votre &#xE9;mulateur. Pour le moment, nous ne toucherons &#xE0; rien dans cette partie, et nous nous contenterons de cliquer sur le bouton <code>Finish</code>. Vous pouvez alors voir que votre &#xE9;mulateur apparait dans la liste des terminaux disponibles&#x2005;:</p>
<p><img class="ebook_only" src="../images/android_studio_run_physical_virtual_device.png" style="width:313px;height:248px;margin:0 auto;display:block;"><img class="web_light_only" src="../images/android_studio_run_physical_virtual_device.png" style="margin:0 auto;display:none;"><img class="web_dark_only" src="../images/android_studio_run_physical_virtual_device_night.png" style="margin:0 auto;display:none;"></p>

<p>S&#xE9;lectionnez-le et cliquez sur <code>OK</code>.</p>
<p>La fen&#xEA;tre va alors se fermer, et apr&#xE8;s un temps plus ou moins long de chargement, une nouvelle apparaitra. Il s&#x2019;agira de votre &#xE9;mulateur ex&#xE9;cutant votre application :</p>
<p><img class="ebook_only" src="../images/android_emulator_hello_world.png" style="width:223px;height:357px;margin:0 auto;display:block;"><img class="web_light_only" src="../images/android_emulator_hello_world.png" style="margin:0 auto;display:none;"><img class="web_dark_only" src="../images/android_emulator_hello_world.png" style="margin:0 auto;display:none;"></p>

<p>Par d&#xE9;faut, les Activity sous Android ont une barre d&#x2019;action. Ici, il s&#x2019;agit de la barre grise que l&#x2019;on voit en haut, avec l&#x2019;ic&#xF4;ne et le nom (HelloAndroid) de l&#x2019;application.</p>
<p>En dessous, nous retrouvons le contenu que nous avons affect&#xE9; &#xE0; notre <code>Activity</code>, &#xE0; savoir la <code>TextView</code> contenant <strong>Hello Android!</strong>.</p>
<h2 id="plus-loin-avec-android-studio">Plus loin avec Android Studio</h2>
<p>Avant de terminer ce chapitre, deux petites astuces avec Android Studio. D&#x2019;ailleurs, nous vous donnerons des astuces sur l&#x2019;utilisation d&#x2019;Android Studio tout au long de ce livre.</p>
<h3 id="affichage-sombre">Affichage sombre</h3>
<p>Nous l&#x2019;avons vu depuis le d&#xE9;but, l&#x2019;affichage d&#x2019;Android Studio est tr&#xE8;s clair : fond blanc, barre d&#x2019;outils gris clair, etc. <span class="web_inline_dark_only" style="display:none"><i>(Les affichages d&apos;Android Studio dans le livre et dans la version Web sur fond clair sont clairs, comme ceux que vous avez du observer si vous n&apos;avez rien modifi&#xE9;. Dans cette version Web Night, les affichages ont &#xE9;t&#xE9; sombres depuis le d&#xE9;but pour respecter le th&#xE8;me d&apos;affichage). </i></span>C&#x2019;est l&#x2019;affichage par d&#xE9;faut d&#x2019;Android Studio. Toutefois, il peut &#xEA;tre pr&#xE9;f&#xE9;rable, lorsque vous passez plusieurs heures sur ce logiciel, d&#x2019;avoir une interface sombre, qui diminue la fatigue visuelle et les migraines.</p>
<p>Par d&#xE9;faut, Android Studio s&#x2019;affiche en utilisant le th&#xE8;me <code>Intellij</code>. Mais il existe un th&#xE8;me, nomm&#xE9; <code>Darcula</code>, qui permet de rendre l&#x2019;affichage global sombre.</p>
<p><img class="ebook_only" src="../images/android_studio_appearance_darcula.png" style="width:794px;margin:0 auto;display:block;"><img class="web_light_only" src="../images/android_studio_appearance_darcula.png" style="margin:0 auto;display:none;"><img class="web_dark_only" src="../images/android_studio_appearance_darcula.png" style="margin:0 auto;display:none;"></p>

<h5 id="macos">macOs</h5>
<ul>
<li>Dans la barre de menu, cliquez sur <strong>Android Studio</strong> ;</li>
<li>Cliquez sur <strong>Pr&#xE9;f&#xE9;rences</strong> ;</li>
<li>Ouvrez l&#x2019;onglet <strong>Appearance &amp; Behaviour</strong> s&#x2019;il n&#x2019;est pas d&#xE9;j&#xE0; ouvert ;</li>
<li>Cliquez sur le sous-menu <strong>Appearance</strong> ;</li>
<li>Changez la valeur de <strong>Theme</strong> pour que cela devienne <strong>Darcula</strong> ;</li>
<li>Cliquez sur le bouton <code>Apply</code>.</li>
</ul>
<h5 id="linux-et-windows">Linux et Windows</h5>
<ul>
<li>Dans la barre de menu, cliquez sur <strong>File</strong> ;</li>
<li>Cliquez sur <strong>Settings</strong> ;</li>
<li>Ouvrez l&#x2019;onglet <strong>Appearance &amp; Behaviour</strong> s&#x2019;il n&#x2019;est pas d&#xE9;j&#xE0; ouvert ;</li>
<li>Cliquez sur le sous-menu <strong>Appearance</strong> ;</li>
<li>Changez la valeur de <strong>Theme</strong> pour que cela devienne <strong>Darcula</strong> ;</li>
<li>Cliquez sur le bouton <strong>Apply</strong>.</li>
</ul>
<h4 id="conseils-sur-le-th&#xE8;me-&#xE0;-choisir">Conseils sur le th&#xE8;me &#xE0; choisir</h4>
<p>Lorsque vous d&#xE9;veloppez, nous vous conseillons d&#x2019;utiliser le th&#xE8;me Darcula. Toutefois, le th&#xE8;me Intellij pr&#xE9;sente quelques avantages, et reste &#xE0; privil&#xE9;gier si vous d&#xE9;cidez de :</p>
<ul>
<li>Partager sur un blog ou un site dont le fond est clair, pour les m&#xEA;mes raisons ;</li>
<li>&#xC9;crire un livre, sur des pages blanches, car le th&#xE8;me clair est plus appropri&#xE9; ;</li>
<li>Faire une pr&#xE9;sentation en public : le th&#xE8;me clair &#xE9;tant plus contrast&#xE9; se voit mieux de loin.</li>
</ul>
<h3 class="pageBreakBefore" id="gestion-des-&#xE9;mulateurs">Gestion des &#xE9;mulateurs</h3>

<p>Lorsque vous ex&#xE9;cutez une application, nous avons vu que vous aviez la possibilit&#xE9; de choisir et cr&#xE9;er un &#xE9;mulateur. Android studio permet toutefois d&#x2019;acc&#xE9;der au gestionnaire d&#x2019;&#xE9;mulateurs directement. Il suffit pour cela de cliquer sur l&#x2019;ic&#xF4;ne <img src="../images/android_studio_icon_avd_manager.png" class="ebook_only"><img src="../images/android_studio_icon_avd_manager.png" style="display:none" class="web_inline_light_only"><img src="../images/android_studio_icon_avd_manager_night.png" style="display:none" class="web_inline_dark_only"> situ&#xE9;e en haut &#xE0; droite dans la barre d&#x2019;outils. Cela va alors ouvrir la fen&#xEA;tre suivante :</p>
<p><img class="ebook_only" src="../images/android_studio_avd_manager.png" style="width:542px;height:334px;margin:0 auto;display:block;"><img class="web_light_only" src="../images/android_studio_avd_manager.png" style="margin:0 auto;display:none;"><img class="web_dark_only" src="../images/android_studio_avd_manager_night.png" style="margin:0 auto;display:none;"></p>

<p>Les trois ic&#xF4;nes de la derni&#xE8;re colonne vous permettent dans l&#x2019;ordre de :</p>
<ul>
<li>Lancer l&#x2019;&#xE9;mulateur ;</li>
<li>&#xC9;diter les caract&#xE9;ristiques de l&#x2019;&#xE9;mulateur ;</li>
<li>Acc&#xE9;der &#xE0; plus d&#x2019;options :<ul>
<li>Dupliquer l&#x2019;&#xE9;mulateur,</li>
<li>Supprimer toutes les donn&#xE9;es de l&#x2019;&#xE9;mulateur (r&#xE9;initialisation d&#x2019;usine),</li>
<li>D&#xE9;marrer le t&#xE9;l&#xE9;phone comme s&#x2019;il avait &#xE9;t&#xE9; &#xE9;teint (par d&#xE9;faut, l&#x2019;&#xE9;mulateur sauvegarde l&#x2019;&#xE9;tat de votre t&#xE9;l&#xE9;phone lorsque vous le fermez, mais ne simule jamais une extinction),</li>
<li>Afficher les fichiers de l&#x2019;&#xE9;mulateur (images des disques, snapshots, etc.),</li>
<li>Afficher les d&#xE9;tails de l&#x2019;&#xE9;mulateur,</li>
<li>Supprimer l&#x2019;&#xE9;mulateur.</li>
</ul>
</li>
</ul>
<h2 id="conclusion">Conclusion</h2>
<p>Dans ce chapitre, nous avons pu appr&#xE9;hender le d&#xE9;veloppement d&#x2019;une application pour Android, son ex&#xE9;cution, ainsi que l&#x2019;environnement Android Studio.</p>
<p>Exceptionnellement pour ce chapitre (comme pour le suivant d&#x2019;ailleurs) : aucun exercice.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="chapter4.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: 4. Programmation orientée objet">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"5. Hello Android !","level":"1.6","depth":1,"previous":{"title":"4. Programmation orientée objet","level":"1.5","depth":1,"path":"chapter4.md","ref":"chapter4.md","articles":[]},"dir":"ltr"},"config":{"plugins":[],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"Gaëtan HERFRAY","pdf":{"pageNumbers":true,"fontSize":14,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"preface.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Le développeur Android 2018","language":"fr","gitbook":"*"},"file":{"path":"chapter5.md","mtime":"2017-11-09T11:48:36.819Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2017-11-09T16:53:12.335Z"},"basePath":".","book":{"language":"fr"}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

